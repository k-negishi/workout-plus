# 機能仕様書: カレンダー月切替 横スライドアニメーション (#164)

## 概要

カレンダーの月切替（矢印ボタン・横スワイプ）に、Google カレンダーと同様の
横スライドアニメーションを追加する。

## ユーザーストーリー

### US1: スワイプで月がスライドして切り替わる
- **#164-S1** 右スワイプで前月に切り替わるとき、カレンダーが右からスライドインする
- **#164-S2** 左スワイプで翌月に切り替わるとき、カレンダーが左からスライドインする
- **#164-S3** スワイプ中は指の動きに追従してカレンダーが動く（慣性スクロール）

### US2: 矢印ボタンでも同じアニメーションが発動する
- **#164-B1** ＜ ボタンで前月に切り替わるとき、カレンダーが右からスライドインする
- **#164-B2** ＞ ボタンで翌月に切り替わるとき、カレンダーが左からスライドインする

### US3: 未来月への移動制限が維持される
- **#164-C1** 当月から ＞ ボタンを押しても翌月に移動しない（ボタン無効化）
- **#164-C2** 当月から左スワイプしても翌月に移動しない

### US4: 日付タップが引き続き動作する
- **#164-D1** スライドアニメーション後も、日付タップで onDayPress が呼ばれる

## 受け入れ条件

### アニメーション
- 切り替え時間: 300ms（Easing.out + cubic）
- 指追従: 横スクロール（pagingEnabled の ScrollView）で自然な追従を実現
- アニメーション中の多重発火防止: アニメーション完了まで操作を受け付けない

### 最大日付制限
- `maxDate={today}` 相当の制限を維持
- 当月表示中に ＞ ボタンは disabled 状態

### 後方互換性
- `onDayPress`: 変更なし
- `onMonthChange`: 月切替完了後に呼ばれる（アニメーション後）
- `selectedDate`: マーキング表示は維持
- `trainingDates`: 青ドットマーキングは維持

## 技術方針

### アーキテクチャ: ScrollView 3 パネル方式

```
┌──────────────────────────────────────┐
│ カスタムヘッダー（矢印 ＋ 月名表示）  │
├──────────────────────────────────────┤
│ ScrollView (horizontal, pagingEnabled)│
│ [前月 Calendar] [今月 Calendar] [翌月 Calendar] │
│  ←   1画面分    ←   1画面分   ←  1画面分   │
└──────────────────────────────────────┘
```

- ScrollView の幅 = コンテナ幅（onLayout で動的取得）
- 各ページ = コンテナ幅の View に Calendar を配置
- 表示位置を中央（index 1）に初期化
- ページ変更後: months 配列を更新 + ScrollView を中央にリセット（無アニメーション）

### なぜ ScrollView か
- iOS では React Native の `TouchableOpacity`（Calendar 日付セル）と
  `Gesture.Pan()`（react-native-gesture-handler）が競合して動作しない
- iOS UIKit レベルの `UIScrollView`（ScrollView の基盤）は
  内部の Touchable と自然に共存できる（Google カレンダーと同じ方式）

### Calendar ヘッダーの扱い
- 各 Calendar の `renderHeader` を非表示にする（内部矢印も `hideArrows={true}`）
- MonthCalendar コンポーネント内に独自ヘッダー（月名 ＋ 矢印ボタン）を実装
