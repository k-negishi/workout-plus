# 実装計画: 種目削除ボタンの配置修正（Issue #137）

## アーキテクチャ概要

シンプルなUIレイアウト変更のみ。データ層・状態管理層への影響なし。

```
ExerciseBlock.tsx
  └── ヘッダー右エリア（View）
        現在: [✕ボタン] [前回記録バッジ]
        変更: [前回記録バッジ] [✕ボタン]
```

## 変更対象ファイル

### 1. `ExerciseBlock.tsx`（プロダクションコード）
- ヘッダー右エリアの JSX 要素順序を入れ替える
- `TouchableOpacity`（✕）を `previousBadgeText` の後に移動
- スタイル変更なし

### 2. `ExerciseBlock.test.tsx`（テストコード）
- 削除ボタンが前回記録バッジの後（右）に配置されることを検証するテストを追加
- TDD: テスト追加 → プロダクションコード変更の順

## 実装ステップ（TDD順）

### Phase 1: Red（失敗するテストを書く）
1. `ExerciseBlock.test.tsx` に「✕ボタンが前回記録バッジの後に表示される」テストを追加
2. テストが失敗することを確認（現状は逆順のため失敗するはず）

### Phase 2: Green（最小限の変更でパスさせる）
3. `ExerciseBlock.tsx` のヘッダー右エリアで要素順序を変更（バッジ → ✕）

### Phase 3: Refactor
4. コードを整理し、コメントを更新

## 依存関係

なし（外部API・DB・Zustand ストアへの影響なし）

## リスク

| リスク | 影響度 | 対応 |
|---|---|---|
| 前回記録バッジが非表示のとき✕ボタンが消える | 低 | 既存コードでは `previousBadgeText` が null のとき条件レンダリングが行われるが ✕ は常に表示されているため問題なし |
| 既存テストの破壊 | 低 | 機能変更なし、要素順序のみ変更 |
