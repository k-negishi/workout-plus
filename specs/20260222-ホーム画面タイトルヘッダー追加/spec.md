# Feature Specification: ホーム画面タイトルヘッダー追加

**Feature Branch**: `20260222-ホーム画面タイトルヘッダー追加`
**Created**: 2026-02-22
**Status**: Draft
**Input**: User description: "ホームのトップにタイトルヘッダーと、右側に設定ボタンを起きたい。スクロールで追従しない"

## User Scenarios & Testing *(mandatory)*

### User Story 1 - ホームトップでアプリタイトルを確認する (Priority: P1)

ユーザーがホーム画面を開いたとき、画面最上部にアプリのタイトルが表示される。タイトルはスクロールで流れていくため、コンテンツと一体となった自然なレイアウトになっている。

**Why this priority**: アプリのアイデンティティを示す最も基本的なUI要素。設定ボタンのベースとなる構造でもあり、これがなければ P2 も成立しない。

**Independent Test**: ホーム画面を開いてスクロールせずに最上部を確認するだけでテスト可能。タイトルテキストが表示されていればこのストーリーの価値が達成される。

**Acceptance Scenarios**:

1. **Given** ホーム画面が表示されている, **When** 画面の最上部を見る, **Then** アプリのタイトルが左側に表示される
2. **Given** ホーム画面が表示されていてスクロール位置がトップにある, **When** 下方向にスクロールする, **Then** タイトルヘッダーがコンテンツとともにスクロールアウトし、画面上部に固定されない
3. **Given** 画面を下にスクロールした状態, **When** 上部にスクロールして戻る, **Then** タイトルヘッダーが再び表示される

---

### User Story 2 - 設定ボタンをタップして設定にアクセスする (Priority: P2)

ユーザーがホーム画面のタイトルヘッダー右端にある設定ボタン（歯車アイコン）を確認・タップできる。

**Why this priority**: 設定ボタンは将来の設定機能追加のエントリーポイントとして重要。ただしタイトル表示（P1）が成立した後に意味を持つ。

**Independent Test**: ホーム画面で設定ボタンを確認・タップすることで独立してテスト可能。

**Acceptance Scenarios**:

1. **Given** ホーム画面の最上部が表示されている, **When** 右側の設定ボタンを確認する, **Then** 設定アイコンが視認できる形で表示されている
2. **Given** 設定ボタンが表示されている, **When** 設定ボタンをタップする, **Then** 現時点では何も起きない（将来の設定機能追加のためのエントリーポイントとして UI のみ配置）
3. **Given** スクロールしてタイトルヘッダーが画面外に出ている, **When** トップに戻る, **Then** 設定ボタンもタイトルとともに再表示される

---

### Edge Cases

- タイトルヘッダーがすでに画面外にスクロールされている場合でも、スクロールバックで正常に再表示されること
- 文字サイズをアクセシビリティ設定で大きくしている端末でも、タイトルと設定ボタンが同一行に収まること
- デバイスのノッチ・Dynamic Island がある端末でタイトルがシステムUI（ノッチ等）と重ならないこと

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: ホーム画面の最上部（既存のStreakCardエリアの上）に、タイトルと設定ボタンを含む横一行のヘッダー行を表示すること
- **FR-002**: ヘッダー行はスクロールコンテンツの一部として配置し、スクロールダウン時に画面外へ流れ出ること（固定ヘッダーとしない）
- **FR-003**: ヘッダー行の左側にアプリタイトルテキストを表示すること
- **FR-004**: ヘッダー行の右側に設定アイコンボタンを配置すること
- **FR-005**: 設定ボタンは現時点でタップ時のアクションなし（UI のみ配置）。将来の設定機能追加時にアクションを実装する
- **FR-006**: ヘッダー行はデバイスのセーフエリア（ノッチ・Dynamic Island）を考慮した上端パディングを持つこと

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: ホーム画面を開いたとき、タイトルヘッダーがスクロール最上部に視覚的に認識できる形で表示されること
- **SC-002**: 下方向にスクロールしたとき、タイトルヘッダーが画面上部に追従せずコンテンツとともにスクロールアウトすること
- **SC-003**: 設定ボタンが最小タッチ領域（44×44pt 以上）を持つタップ可能な要素として表示されること
- **SC-004**: ノッチ/Dynamic Island 搭載端末でタイトルテキストがシステムUI要素と重ならないこと

## Assumptions & Preconditions

- アプリタイトルのテキストは "Workout+" を使用する（変更が必要な場合はclarifyで確認）
- 設定ボタンのタップ後アクションは現時点でなし（将来対応）
- アイコンライブラリには既存の `@expo/vector-icons`（Ionicons）を使用する（新規ライブラリ追加なし）
- ヘッダー行の背景色は既存ヘッダーエリアと統一する
