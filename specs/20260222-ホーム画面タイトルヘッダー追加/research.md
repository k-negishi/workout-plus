# Research: ホーム画面タイトルヘッダー追加

## 決定1: アイコンライブラリ

- **決定**: `@expo/vector-icons`（Ionicons）を使用する
- **根拠**: すでに `MainTabs.tsx` で使用済みであり、新規ライブラリ追加不要。`settings-outline` アイコンが適切に存在する
- **検討した代替案**:
  - `lucide-react-native`: 未導入、追加コストあり（却下）
  - カスタムSVG: オーバーエンジニアリング（却下）

## 決定2: ヘッダー配置方式

- **決定**: 既存の白背景 `<View>` の先頭にタイトル行を追加する（ScrollView内のアイテムとして）
- **根拠**: 「スクロールで追従しない」= 固定ヘッダーでなくスクロールアウトする挙動。既存の StreakCard エリアが ScrollView 内に置かれている理由と同じ（コメント: "ヘッダーもスクロール領域内に配置して、StreakCard が固定されないようにする"）
- **検討した代替案**:
  - ScrollView外に固定配置（Fixed header）: 仕様の「スクロールで追従しない」に反するため却下
  - SafeAreaView + 別View: 構造が複雑になるため却下

## 決定3: タイトルテキスト

- **決定**: "Workout+" をアプリタイトルとして使用
- **根拠**: アプリ名がそのままタイトルとして適切。仕様の前提条件にも記載あり
- **検討した代替案**: "ワークアウト+"（却下: アルファベット表記がブランドとして統一されている）

## 決定4: タイトルカラー

- **決定**: `colors.primary`（#4D94FF）でタイトルを表示
- **根拠**: アプリブランドカラーを使用することで、ダッシュボードのアイデンティティを示しつつ、サブテキストと区別できる。Strava等の主要フィットネスアプリで採用されているパターン
- **検討した代替案**: `colors.textPrimary`（#475569）→ 他テキストと区別しにくい

## 決定5: 設定ボタンタップ時の挙動

- **決定**: タップ時アクションなし（将来対応）。`TouchableOpacity` として配置するが `onPress` は noop
- **根拠**: ユーザー指示「C, 後でやる」。アクセシビリティ上は `accessibilityLabel` を設定して認識可能にする
- **注意**: ボタン非機能であることをコードコメントで明示する

## 決定6: テスト方針

- **決定**: `testID` を設定し、`getByTestId` でアサートする
- **根拠**: Ionicons はネイティブコンポーネントを使用するため `queryByText` でクエリできない。既存テストでも `UNSAFE_getByType` 等を使用している。`testID` による明示的なクエリが最も安定する
- **Ionicons モック**: テスト環境でのネイティブSVGクラッシュを防ぐため、既存の `react-native-svg` モックと同様に `@expo/vector-icons` をモックする
