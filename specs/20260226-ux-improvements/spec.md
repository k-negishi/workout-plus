# 機能仕様書: UX バグ修正 & 改善バッチ (Issues #142, #146–#154)

## 概要
登録画面・カレンダー画面で報告された複数のバグと UX 改善を一括対応する。

## ユーザーストーリー

### US1: タイマーが正確に動く
- **#149** タイマーが 1 秒刻みで正確に進む（現在は指数関数的に加速する）
- **#150** タイマーを破棄（discard）した後は再開できない

### US2: 登録画面の入力が快適になる
- **#146** セット入力フィールドにプレースホルダー不要。数値入力時にちらつかない
- **#147** 種目ごとのメモが複数文字入力できる（現在は 1 文字で入力不可）
- **#148** 種目のバツボタンを押したときに削除確認モーダルを表示する
- **#151** 種目名が `#4D94FF`（プライマリカラー）でタップ可能と分かる

### US3: カレンダーが快適に使える
- **#152** 日付選択時に編集・削除ボタンが先行レンダリングされてちらつかない
- **#153** カレンダーからワークアウトを削除できる（実装確認・テスト追加）
- **#154** カレンダー下部の種目サマリーに推定 1RM ベスト・種目メモ・1日メモを表示

### US4: ヘッダーのトンマナが統一される
- **#142** 全画面のヘッダースタイル（背景色・タイトル・戻るボタン）が統一される

## 受け入れ条件

### #149 タイマー速度
- タイマーが running 状態のとき、1 秒ごとに 1 秒ずつ経過時間が増加する
- 30 分放置しても実際の経過時間と同期している
- バックグラウンド復帰後も正確な経過時間を表示する

### #150 タイマー再開不可
- timer_status が 'discarded' のとき、再生ボタンは disabled または非表示
- discarded 後にタイマーを再スタートする手段がない

### #146 プレースホルダー・ちらつき
- kg・rep 入力欄にプレースホルダーテキストが表示されない
- 数値入力時に画面がちらつかない（スクロール位置がずれない）

### #147 メモ入力
- 種目メモ欄に任意の長さのテキストを入力できる
- 入力した文字がリセットされない

### #148 削除確認
- ✕ ボタンタップ後にアラートダイアログが表示される
- 「削除する」で種目削除、「キャンセル」で閉じる

### #151 種目名カラー
- 種目名テキストが `#4D94FF` で表示される

### #152 ちらつき解消
- 日付選択時に前の日付の編集・削除ボタンが一瞬表示されない
- ローディング中はボタンが非表示

### #153 ワークアウト削除
- カレンダー画面で選択日のワークアウトを削除できる
- 削除確認ダイアログが表示される
- 削除後カレンダーのマーカーが更新される

### #154 サマリー強化
- 各種目の推定 1RM ベスト値が表示される
- 種目メモが存在する場合に表示される
- 1 日メモが存在する場合に表示される

### #142 ヘッダー統一
- 全スタック画面のヘッダーが一貫したスタイルを持つ
- 背景色・戻るボタン・タイトルスタイルが統一される

## 実装スコープ外
- DB スキーマ変更（メモカラムは既存）
- 新しいナビゲーション画面の追加
- アニメーション実装
